% vim: set shiftwidth=2:


\ProvidesPackage{beamerthemeacibposter}

\RequirePackage{tikz}
\RequirePackage{graphicx}
\RequirePackage{setspace}
\RequirePackage{changepage}
\RequirePackage{tcolorbox}

\usetikzlibrary{calc}


\definecolor{acibgreen}{rgb}{26,229,26}
\definecolor{bokugreen}{rgb}{79,183,71}
\definecolor{biotopblue}{rgb}{0,0,255}
\definecolor{biotopred}{rgb}{255,0,0}
\definecolor{biotechteal}{rgb}{74,177,213}
\definecolor{black}{rgb}{0,0,0}
\definecolor{authorcolor}{RGB}{26,163,171}

\setbeamerfont{title}{series=\bfseries}
\setbeamerfont{title}{size=\Huge}
\setbeamerfont{frametitle}{size=\Large}
\setbeamerfont{framesubtitle}{size=\small}
\setbeamerfont{author}{size=\Large}
\setbeamerfont{date}{size=\scriptsize}
\setbeamerfont{institute}{size=\normalsize}
\setbeamerfont{block title}{size = \Large\bfseries}

\def\beamer@andinst{\\[.5em]}
\def\beamer@andtitle{\hspace{.2em}\textbullet\ \hspace{.2em}}

\setbeamertemplate{itemize item}[circle]

\addtobeamertemplate{block begin}
  {}
  {%
    \vspace{.8ex}
    \begin{adjustwidth}{.5em}{.5em}
  }

\addtobeamertemplate{block end}
  {%
    \end{adjustwidth}
    \vspace{1ex}
  }
  {\vspace{2ex}}

\setbeamercolor{block body}{bg=white}
\setbeamercolor{block title}{fg=white, bg=acibgreen}

\newenvironment<>{introblock}[1]{%
  \begin{actionenv}#2%
    \def\insertblocktitle{#1}%
    \par%
    \mode<presentation>{%
      \setbeamercolor{block title}{fg = white,bg = acibpurple}
      \setbeamercolor{block body}{fg = black,bg = acibpurple!10}
      \setbeamercolor{itemize item}{fg = orange!20!black}
      \setbeamertemplate{itemize item}[circle]
    }%
  \usebeamertemplate{block begin}}
{\par\usebeamertemplate{block end}\end{actionenv}}

\newenvironment<>{conclusionblock}[1]{%
  \begin{actionenv}#2%
    \def\insertblocktitle{#1}%
    \par%
    \mode<presentation>{%
      \setbeamercolor{block title}{fg = white,bg = acibpurple}
      \setbeamercolor{block body}{fg = black,bg = acibgreen!25}
      \setbeamercolor{itemize item}{fg = orange!20!black}
      \setbeamertemplate{itemize item}[circle]
    }%
  \usebeamertemplate{block begin}}
{\par\usebeamertemplate{block end}\end{actionenv}}


\setbeamertemplate{headline}{

  \begin{beamercolorbox}[wd=\paperwidth]{acibcolorheadline}
    \vskip80pt
    % \begin{column}{.05\textwidth}\end{column}
    % \begin{column}{.95\textwidth}
    \begin{center}
      {\usebeamerfont{title}\inserttitle}
      % \end{column}
      \vskip40pt
      % \begin{columns}
      %   \begin{column}{.05\textwidth} % LEFT
      %   \end{column}
      %   \begin{column}{.95\textwidth} % RIGHT
      {\usebeamerfont{author}\insertauthor}
      %   \end{column}
      % \end{columns}
      \vskip50pt
      % \begin{columns}
      %   \begin{column}{.05\textwidth} % LEFT
      %   \end{column}
      %   \begin{column}{.95\textwidth} % RIGHT
      {\setstretch{1.0}%
      \usebeamerfont{institute}\insertinstitute}
      %   \end{column}
      % \end{columns}
    \end{center}
    \vskip50pt
  \end{beamercolorbox}%
  \vskip25pt%
}

\setbeamercolor{test}{fg=white,bg=green}

\setbeamertemplate{footline}{
  \begin{beamercolorbox}[wd=\paperwidth, ht=250pt]{white}
  \end{beamercolorbox}
  {
    \usebeamercolor{acibcolor}
    \begin{tikzpicture}[remember picture,overlay]

      \newcommand{\dist}{1}
      \newcommand{\len}{.62\paperwidth}

      \coordinate (origin) at ($ (current page.south west) + (0, 4.5) $);
      \fill[ fill=fg ]
        (origin) --
        ++(\len,0) --
        ++(.7, \dist) --
        ++(-.7, \dist) --
        ++(-\len,0);
      \node[anchor=east,color=white,font=\Large]
        at ($ (origin) + (\len, \dist) - (1, 0) $)
        {INNOVATIONS FROM NATURE};
      \node[anchor=west,font=\small]
        at ($ (origin) + (.02\textwidth, \dist) $)
        {\textbf{acib GmbH} \textbullet\ Krenngasse 37/2 \textbullet\ 8010 Graz
        \textbullet\ Austria \textbullet\ www.acib.at};
      \node[anchor=west, font = \scriptsize, text width = .6\textwidth]
        at ($ (origin) + (.02\textwidth, \dist) + (0, -2.5) $)
        {\textbf{The COMET center acib:} Next Generation Bioproduction is
          funded by BMK, BMDW, SFG, Standortagentur Tirol, Government of Lower
          Austria and Vienna Business Agency in the framework of\\COMET -
          Competence Centers for Excellent Technologies. The COMET-Funding
          Program is managed by the Austrian Research Promotion Agency FFG.};

      % \node[anchor=west,color=green,font=\tiny]
      %     at ($ (origin) + (.51\paperwidth, -\dist) $)
      %     {AUSTRIAN CENTRE OF INDUSTRIAL BIOTECHNOLOGY};
      \node[anchor=south east] (biotoplogo)
        at ($ (current page.south east) + (-2, 3.5) $)
        { \includegraphics[height=3.8cm]{./logos/biotop_dim_colors.png} };
      \node (bokulogo) [left=of biotoplogo]
        { \includegraphics[height=5cm]{./logos/boku-logo.svg.pdf} };
      \node (aciblogo) [left=of bokulogo]
        { \includegraphics[height=5.5cm]{./logos/ACIB_logo.png} };

      % \node[anchor=north east] (section)
      %     at ($(current page.north east) + (-2pt, -1pt)$)
      %     {\itshape \insertsection\ --- \insertsubsection };

    \end{tikzpicture}
  }
}

\setbeamertemplate{navigation symbols}{}
